<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Jekyll v3.8.5">

  <title>Step 2 選擇付款方式</title>

  <!-- Bootstrap core CSS -->
  <link href="statics/css/bootstrap.min.css" rel="stylesheet">
  <link href="statics/css/font-awesome.min.css" rel="stylesheet">
  <link href="statics/icon/favicon.ico" type="image/x-icon" rel="icon">
  <link href="statics/icon/favicon.ico" type="image/x-icon" rel="shortcut icon">


  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <!-- Custom styles for this template -->
  <link href="statics/css/product.css" rel="stylesheet">
  <link href="statics/css/jquery-confirm.css" rel="stylesheet">

  <script src="statics/js/jquery-3.4.1.min.js"></script>
  <script src="statics/js/jquery-confirm.js"></script>
</head>

<body>
    <div align="center" style="font-family:Microsoft JhengHei;">
   
   <div>
     <pre style="font-family:Microsoft JhengHei;"><a style="vertical-align:middle;"><img src="https://i.imgur.com/ZC2fTSj.png" alt="airplane-icon" border="0"></a><font color=#d8ccab>Step 1 確認預訂房間  >  </font><font color=#d8ccab>Step 2 選擇付款方式  >  </font><font color="grey">Step 3 填寫詳細資料  >  </font><font color="grey">Step 4 完成訂單</font>
    </pre>
   </div>
  
   <div>
    
    <div style="background-color:#E7DCBF;width:850px;height:30px;line-height:30px;font-size:20px;text-align:left"><b>&emsp;付款方式</b></div><br/>
   <div style="align:center;width:800px;"> 
   <div class="rec" style="text-align:center;font-size:20px;">
    <blockquote><form style="text-align:left;width:850px;font-size:20px">
    
    <input type="radio" name="pay" id="r1" value="creditCard" style="width:25px;height:25px;" checked>  信用卡付款<br>
    
     <a><img src="https://upload.cc/i1/2019/12/07/8zhiFj.png" alt="credit-card" border="0"></a>
    
     <blockquote><label>信用卡號&nbsp;&nbsp;&nbsp;</label>
      <input type="text" id = "b1" maxlength="4" style="width: 60px;height:20px;" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">&nbsp;-
      <input type="text" id = "b2" maxlength="4" style="width: 60px;height:20px;" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">&nbsp;-
      <input type="text" id = "b3" maxlength="4" style="width: 60px;height:20px;" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">&nbsp;-
      <input type="text" id = "b4" maxlength="4" style="width: 60px;height:20px;" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">
      &nbsp<label id="cardError" style="color:#B22222;font-size:5px;visibility:hidden;">格式錯誤，請重新輸入！</label>
      </blockquote>
      
     <blockquote><label>有效月年&nbsp;&nbsp;&nbsp;</label>
     <select name="month" id="month" style="width:110px;height:30px;font-size:18px">
       <option id="ch_month" value="0" disabled selected hidden>選擇月份</option></select>
     <label>&nbsp;&nbsp;/&nbsp;&nbsp;</label>
     <select name="year" id="year" style="width:110px;height:30px;font-size:18px">
       <option id="ch_year" value="0" disabled selected hidden>選擇年份</option></select>
     &nbsp<label id="timeError" style="color:#B22222;font-size:5px;visibility:hidden;">請選擇有效月年！</label>
     </blockquote>
    
     <blockquote><label>安全碼&nbsp;&nbsp;&nbsp;</label>
     <input type="text" id="b5" maxlength="3" style="width:60px;height:20px;" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')">
     &nbsp<label id="safeError" style="color:#B22222;font-size:5px;visibility:hidden;">請輸入正確的安全碼！</label></blockquote>
     <blockquote><hr size="1px" width=750px></blockquote>
     <input type="radio" name="pay" value="cash" style="width:25px;height:25px;">  現金付款<br>
     </form></blockquote></div>
   </div><br><br></div>
   
   <div style="font-size:20px;text-align:right;width:850px;">
     <input id="back" type="button" value="上一步" style="width:100px;height:40px;border:2px white none;border-radius:5px;background-color:#F0F0F0;">
     &nbsp;
     <input id="submit" type="button" value="確認資料，送出" style="width:180px;height:40px;border:2px white none;border-radius:5px;background-color:#E7DCBF;">
   </div><br><br>  
  
  </div>
  
  
  <script>
  
  	//月份下拉選單內容
  	function getMonth(){
		var mon = document.getElementById("month") 

		var m_start = 1
		var m_end = 12   
		 
		var m_len = m_end - m_start + 2; 
		mon.options.length = m_len; 
		for (var i = 1; i < m_len; i++) { 
		    mon.options[i].text = mon.options[i].value = m_start - 1 + i + "月";  
		} 
 	}
  	
  	//年份下拉選單內容
  	function getYear(){
		var year = document.getElementById("year") 

		var y_start = 2020 //起始年 
		var y_end = 2040  //結束年 
		 
		var y_len = y_end - y_start + 2; 
		year.options.length = y_len; 
		for (var i = 1; i < y_len; i++) { 
		    year.options[i].text = year.options[i].value = y_start - 1 + i + "年";  
		}
	}	
  
  	$(document).ready(function() {
  		getMonth();
  		getYear();
	});
  	
  	
  	$("#back").click(function (){
  		document.location.replace("checkout_1.html");
  	});
  	
  	$("#submit").click(function (){
  		$('#cardError').css('visibility','hidden');
  		$('#timeError').css('visibility','hidden');
  		$('#safeError').css('visibility','hidden');
  		
  		if($('#r1').is(':checked')){ //選擇信用卡付款
  			//檢驗各空格是否符合格式
  	  		if(($('#b1').val().length != 4)||($('#b2').val().length != 4)||($('#b3').val().length != 4)||($('#b4').val().length != 4)){
  	  			$('#cardError').css('visibility','visible');
  	  		}
  			else if($('#ch_month').is(':selected')){
  	  			$('#timeError').css('visibility','visible'); 
  	  		}
  			else if($('#ch_year').is(':selected')){
  	  			$('#timeError').css('visibility','visible'); 
  	  		}
	  	  	else if($('#b5').val().length != 3){
  	  			$('#safeError').css('visibility','visible');
  	  		}
  	  		else{
  	  			alert("格式正確");
  	  			document.location.replace("checkout_3.html?paid_status=1"); //此處須將付款狀態改成1
  	  		}
  		}
  		else{ //選擇現金付款
  			document.location.replace("checkout_3.html?paid_status=0");
  		}
  	});
  	
  	
  </script>
</body>

</html>